(function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n={}.hasOwnProperty,o=[].slice,p=function(a,b){function c(){this.constructor=a}for(var d in b)n.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};e={INVALID_OVERLOAD_SIGNATURE:"You should pass a nonempty array of arguments as a signature",INVALID_OVERLOAD_FUNCTION:"You should pass a function that will be assigned to set of arguments",NO_MATCHING_OVERLOADS:"No overloads match given signature",INVALID_DEFAULT_FUNCTION:"If passed, argument defaultFunction must be a function",FUNCTION_NOT_EXTENSIBLE:"You cannot overload a non-extensible function",NO_SUCH_MATCHER:"That type of matcher doesn't exist",UNSUPPORTED_SIGNATURE_ELEMENT:"Tried to add overload with unsupported argument type"},l=function(){function a(){}return a.lockOwnProperties=function(a){var b,c;c=[];for(b in a)n.call(a,b)&&c.push(Object.defineProperty(a,b,{enumerable:!1,writable:!1,configurable:!1}));return c},a.getClassOf=function(a){var b;return b=Object.prototype.toString.call(a),/\[object (\w+)\]/.exec(b)[1].toLowerCase()},a}(),i=function(){function a(b){var c;if(null==b&&(b=null),null!=b&&"function"!=typeof b)throw new TypeError(e.INVALID_DEFAULT_FUNCTION);return c=function(){return c._invoke.apply(c,[this].concat(o.call(arguments)))},c._overloads=[],c._defaultFunction=b,l.lockOwnProperties(c),a._inheritFromOverloadable(c),c}return a._inheritFromOverloadable=function(b){var c,d,e,f,g;for(d=Object.getOwnPropertyNames(a.prototype),g=[],e=0,f=d.length;f>e;e++)c=d[e],"constructor"!==c&&g.push(Object.defineProperty(b,c,{value:a.prototype[c]}));return g},a.prototype._invoke=function(){var a,b,c;if(c=arguments[0],b=2<=arguments.length?o.call(arguments,1):[],a=this.match.apply(this,b),null!=a)return a.apply(c,b);throw new TypeError(e.NO_MATCHING_OVERLOADS)},a.prototype._getDefaultFunction=function(){return this._defaultFunction},a.prototype.overload=function(a,b){var c;if(!Object.isExtensible(this))throw new TypeError(e.FUNCTION_NOT_EXTENSIBLE);if(!Array.isArray(a))throw new Error(e.INVALID_OVERLOAD_SIGNATURE);if("function"!=typeof b)throw new Error(e.INVALID_OVERLOAD_FUNCTION);return c=new h(a,b),this._overloads.push(c)},a.prototype.match=function(){var a,b,c,d,e;for(b=1<=arguments.length?o.call(arguments,0):[],e=this._overloads,c=0,d=e.length;d>c;c++)if(a=e[c],a.isSignatureMatchingArguments(b))return a.getAssignedFunction();return this._getDefaultFunction()},a}(),l.lockOwnProperties(i),l.lockOwnProperties(i.prototype),h=function(){function b(b,c){var d,f,g,h;this._assignedFunction=c,d=function(){var c,d,i;for(i=[],c=0,d=b.length;d>c;c++){h=b[c];try{g=a.getMatcher(h)}catch(j){throw f=j,new TypeError(e.UNSUPPORTED_SIGNATURE_ELEMENT)}i.push(g.compile(h))}return i}(),this._signature=d}return b.prototype.getSignature=function(){return this._signature.slice(0)},b.prototype.getAssignedFunction=function(){return this._assignedFunction},b.prototype.isSignatureMatchingArguments=function(a){var b,c,d,e,f,g;if(e=this.getSignature(),a.length!==e.length)return!1;for(d=f=0,g=e.length;g>f;d=++f)if(c=e[d],b=a[d],!c.match(b))return!1;return!0},b}(),g=function(){function a(){this._matchers=Object.create(null)}return a.prototype.registerMatcher=function(a,b){if(null!=this._matchers[a])throw new Error;return this._matchers[a]=b},a.prototype.getMatcher=function(a){if(null==this._matchers[a])throw new Error;return new this._matchers[a]},a}(),m=new g,a=function(){function a(){}return a.getMatcher=function(a){var b;return b=l.getClassOf(a),m.getMatcher(b)},a.prototype.compile=function(a){return new d(this,a)},a}(),c=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return p(b,a),b.prototype.match=function(a,b){return l.getClassOf(a)===b},m.registerMatcher("string",b),b}(a),b=function(b){function c(){return c.__super__.constructor.apply(this,arguments)}return p(c,b),c.prototype.match=function(b,c){var d,e,f,g;for(f=0,g=c.length;g>f;f++)if(d=c[f],e=a.getMatcher(d),e.match(b,d))return!0;return!1},c.prototype.compile=function(a){var b;return b=this.flattenArray(a),c.__super__.compile.call(this,b)},c.prototype.flattenArray=function(a){var b,c,d,e,f,g;for(b=-1,d=a;0!==b;)for(e=d,b=0,d=[],f=0,g=e.length;g>f;f++)c=e[f],"array"===l.getClassOf(c)?(d.push.apply(d,c),b+=1):d.push(c);return d},m.registerMatcher("array",c),c}(a),f=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return p(b,a),b.prototype.match=function(a,b){return a instanceof b},m.registerMatcher("function",b),b}(a),k=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return p(b,a),b.prototype.match=function(a,b){return b.test(a)},m.registerMatcher("regexp",b),b}(a),j=function(b){function c(){return c.__super__.constructor.apply(this,arguments)}return p(c,b),c._INHERITED_PROPERTY_PREFIX="^",c.prototype.match=function(b,d){var e,f,g,h,i;for(h in d)if(n.call(d,h)){if(h.charAt(0)===c._INHERITED_PROPERTY_PREFIX?(i=h.slice(1),f=i in b):(i=h,f=Object.prototype.hasOwnProperty.call(b,i)),f!==!0)return!1;if(e=d[h],g=a.getMatcher(e),!g.match(b[i],e))return!1}return!0},m.registerMatcher("object",c),c}(a),d=function(){function a(a,b){this._matcher=a,this._value=b}return a.prototype.getMatcher=function(){return this._matcher},a.prototype.getValue=function(){return this._value},a.prototype.match=function(a){return this.getMatcher().match(a,this.getValue())},a}(),null!=("undefined"!=typeof define&&null!==define?define.amd:void 0)?define(function(){return i}):null!=("undefined"!=typeof module&&null!==module?module.exports:void 0)?module.exports=i:this.Overloadable=i}).call(this);
//# sourceMappingURL=Overloadable.min.map